import{r as m,j as t,S as M,W as L}from"./index-e2557835.js";import{N as B}from"./NavIconsDualtonned-629598de.js";import{C as O}from"./CustomBreadCrumps-190c0dc2.js";import{u as C}from"./user-80ca6d81.js";import{u as U}from"./Queries-1edd9701.js";import{b as W}from"./Mutations-3f3892ef.js";import{a as _,g as A,U as E,b as q,N as G,T as H,e as V,c as z}from"./table-empty-rows-f7edc550.js";import{I as J}from"./ItemLoading-b7fbf24b.js";import{M as K}from"./MutipleDeleteModal-b0e950f4.js";import{m as X}from"./CustomModalMessages-21d53744.js";import{U as Y}from"./customers-create-d4d6951a.js";import{C as Z}from"./Container-19e483a1.js";import{C as $}from"./Card-6c6ce8af.js";import{T as w,a as Q,b as ee,c as te}from"./TablePagination-7c4eea28.js";import"./Breadcrumbs-e71b08a1.js";import"./TableRow-cd1bf836.js";import"./index-1f53deeb.js";import"./KeyboardArrowRight-ffd3b3e1.js";import"./Select-c64a9698.js";import"./CircularProgress-63df29d4.js";import"./numeral-d348d23e.js";import"./EditId-3a4900d9.js";import"./label-e738403c.js";import"./FormatChnager-3630efc0.js";import"./dayjs.min-6085eb1e.js";import"./Grid-f905a886.js";import"./index.esm-ebced901.js";import"./TagsInput-6b6695f6.js";import"./AdapterDayjs-fefbe935.js";import"./Chip-7b8997d7.js";import"./yup-08e917aa.js";import"./CustomGrid-a5eaf6b9.js";import"./RHFAvtarUpload-e3dcd148.js";import"./RHFMultiFileUpload-006d2ba5.js";import"./CustomSubmitButton-a5ee7712.js";import"./CustomContainerGrid-0fd00d96.js";import"./LastPage-e1be4f83.js";function se(){var x;const s=U(),u=W();console.log(s);const[r,l]=m.useState(0),[g,f]=m.useState("asc"),[i,c]=m.useState([]),[h,j]=m.useState("name"),[d,N]=m.useState(""),[p,S]=m.useState(25),P=(e,a)=>{a!==""&&(f(h===a&&g==="asc"?"desc":"asc"),j(a))},v=e=>{var a;if(e.target.checked){let o;i.length===((a=s==null?void 0:s.data)==null?void 0:a.length)?c([]):(s.isSuccess?o=s.data.map(n=>n._id):o=[],c(o))}else c([])},T=(e,a)=>{const o=i.indexOf(a);let n=[];o===-1?n=[...i,a]:n=i.filter(F=>F!==a),c(n)},D=(e,a)=>{l(a)},k=e=>{l(0),S(parseInt(e.target.value,10))},y=e=>{l(0),N(e.target.value)},b=_({inputData:s.isSuccess?s.data:[],comparator:A(g,h),filterName:d}),I=!b.length&&!!d,R=e=>{console.log("Deleting items:",e),K(()=>u.mutate(e),X,e),c([])};return t.jsx(Z,{children:t.jsxs($,{children:[t.jsx(E,{selected:i,filterName:d,onDelete:R,onFilterName:y}),t.jsx(M,{children:t.jsx(w,{sx:{overflow:"unset"},children:t.jsxs(Q,{sx:{minWidth:800},children:[t.jsx(q,{order:g,orderBy:h,rowCount:C.length,numSelected:i.length,onRequestSort:P,onSelectAllClick:v,headLabel:[{id:"name",label:"Name",minWidth:150},{id:"location",label:"Location",minWidth:150},{id:"bookings",label:"Bookings Made",minWidth:150},{id:"status",label:"Status",minWidth:150},{id:""}]}),s.isLoading?t.jsx(J,{}):t.jsxs(ee,{children:[b.length===0&&!d?t.jsx(G,{er1:"No Customers Found",er2:"Create new customers to populate over here"}):b.slice(r*p,r*p+p).map(e=>{var a,o;return t.jsx(Y,{customerImage:(a=e.customerImage)==null?void 0:a.url,name:e.name,id:e._id,contactNumber:e.contactNumber,abroadNumber:e.abroadNumber,nativeNumber:e.nativeNumber,email:e.email,passportNumber:e.passportNumber,pincode:e.pincode,state:e.state,address:e.address,locality:e.locality,cityOrDistrict:e.cityOrDistrict,bookings:e.bookings,passportImage:(o=e.passportImage)==null?void 0:o.url,selected:i.includes(e._id),handleClick:n=>T(n,e._id)},e._id)}),t.jsx(H,{height:77,emptyRows:V(r,p,C.length)}),I&&t.jsx(z,{query:d})]})]})})}),t.jsx(te,{page:r,component:"div",count:(x=s==null?void 0:s.data)==null?void 0:x.length,rowsPerPage:p,onPageChange:D,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:k})]})})}function Ee(){var u,r,l;const s=B();return t.jsxs(t.Fragment,{children:[t.jsx(L,{children:t.jsx("title",{children:" Customers | U-DRIVE"})}),t.jsx(O,{headText:"Customers list",icon1:(u=s[2])==null?void 0:u.icon,icon2:(l=(r=s[2])==null?void 0:r.submenu[1])==null?void 0:l.icon,subname1:"Customers",subname2:"List Customers",redirectlink:"/customers/create",buttonName:"Customer create",redirectIcon:"eva:plus-fill"}),t.jsx(se,{})]})}export{Ee as default};
