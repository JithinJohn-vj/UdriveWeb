import{r,j as t,S as M,W as B}from"./index-e2557835.js";import{N as I}from"./NavIconsDualtonned-629598de.js";import{C as U}from"./CustomBreadCrumps-190c0dc2.js";import{u as f}from"./user-80ca6d81.js";import{u as L,U as A}from"./employees-create-50b93356.js";import{u as _}from"./Mutations-138a202e.js";import{a as O,g as w,U as q,b as G,N as W,T as H,e as V,c as z}from"./table-empty-rows-f7edc550.js";import{I as J}from"./ItemLoading-b7fbf24b.js";import{M as K}from"./MutipleDeleteModal-b0e950f4.js";import{a as X}from"./CustomModalMessages-21d53744.js";import{C as Y}from"./Container-19e483a1.js";import{C as Z}from"./Card-6c6ce8af.js";import{T as $,a as Q,b as ee,c as te}from"./TablePagination-7c4eea28.js";import"./Breadcrumbs-e71b08a1.js";import"./TableRow-cd1bf836.js";import"./index-1f53deeb.js";import"./EditId-3a4900d9.js";import"./label-e738403c.js";import"./FormatChnager-3630efc0.js";import"./dayjs.min-6085eb1e.js";import"./Grid-f905a886.js";import"./KeyboardArrowRight-ffd3b3e1.js";import"./index.esm-ebced901.js";import"./TagsInput-6b6695f6.js";import"./numeral-d348d23e.js";import"./Select-c64a9698.js";import"./AdapterDayjs-fefbe935.js";import"./Chip-7b8997d7.js";import"./yup-08e917aa.js";import"./CustomGrid-a5eaf6b9.js";import"./RHFAvtarUpload-e3dcd148.js";import"./CustomSubmitButton-a5ee7712.js";import"./CircularProgress-63df29d4.js";import"./CustomContainerGrid-0fd00d96.js";import"./LastPage-e1be4f83.js";function se(){var b;const s=L(),u=_();console.log(s);const[l,i]=r.useState(0),[g,j]=r.useState("asc"),[n,m]=r.useState([]),[h,y]=r.useState("name"),[c,C]=r.useState(""),[p,S]=r.useState(25),N=(e,a)=>{a!==""&&(j(h===a&&g==="asc"?"desc":"asc"),y(a))},P=e=>{var a;if(e.target.checked){let o;n.length===((a=s==null?void 0:s.data)==null?void 0:a.length)?m([]):(s.isSuccess?o=s.data.map(d=>d._id):o=[],m(o))}else m([])},E=(e,a)=>{const o=n.indexOf(a);let d=[];o===-1?d=[...n,a]:d=n.filter(F=>F!==a),m(d)},T=(e,a)=>{i(a)},k=e=>{i(0),S(parseInt(e.target.value,10))},v=e=>{i(0),C(e.target.value)},x=O({inputData:s.isSuccess?s.data:[],comparator:w(g,h),filterName:c}),D=!x.length&&!!c,R=e=>{console.log("Deleting items:",e),K(()=>u.mutate(e),X,e),m([])};return t.jsx(Y,{children:t.jsxs(Z,{children:[t.jsx(q,{selected:n,filterName:c,onDelete:R,onFilterName:v}),t.jsx(M,{children:t.jsx($,{sx:{overflow:"unset"},children:t.jsxs(Q,{sx:{minWidth:800},children:[t.jsx(G,{order:g,orderBy:h,rowCount:f.length,numSelected:n.length,onRequestSort:N,onSelectAllClick:P,headLabel:[{id:"name",label:"Name"},{id:"username",label:"User Name"},{id:"bookings",label:"Bookings Made"},{id:"acess",label:"Acess Given"},{id:"status",label:"Status"},{id:""}]}),s.isLoading?t.jsx(J,{}):t.jsxs(ee,{children:[x.length===0&&!c?t.jsx(W,{er1:"No Employees Found",er2:"Create new employees to populate over here"}):x.slice(l*p,l*p+p).map(e=>{var a;return t.jsx(A,{id:e._id,access:e.access,email:e.email,name:e.name,role:e.role,bookings:e.bookings,employeeImage:(a=e.employeeImage)==null?void 0:a.url,userName:e.userName,isBlocked:e.isBlocked,selected:n.includes(e._id),handleClick:o=>E(o,e._id)},e._id)}),t.jsx(H,{height:77,emptyRows:V(l,p,f.length)}),D&&t.jsx(z,{query:c})]})]})})}),t.jsx(te,{page:l,component:"div",count:(b=s==null?void 0:s.data)==null?void 0:b.length,rowsPerPage:p,onPageChange:T,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:k})]})})}function _e(){var u,l,i;const s=I();return t.jsxs(t.Fragment,{children:[t.jsx(B,{children:t.jsx("title",{children:" Employees | U-DRIVE"})}),t.jsx(U,{headText:"Employees list",icon1:(u=s[4])==null?void 0:u.icon,icon2:(i=(l=s[4])==null?void 0:l.submenu[1])==null?void 0:i.icon,subname1:"Employees",subname2:"List Employees",redirectlink:"/employee/create",buttonName:"Employee create",redirectIcon:"eva:plus-fill"}),t.jsx(se,{})]})}export{_e as default};
